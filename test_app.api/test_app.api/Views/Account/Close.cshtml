@model AuthResponseModel

<body>
<h2 style="text-align: center;" id="countDown"></h2>
<script type="text/javascript">
    window.opener.postMessage(JSON.stringify({ token: "@Model.Token", username: "@Model.Username" }), "http://localhost:4200/");
    var counter = 5;
    var newElement = document.getElementById("countDown");
    newElement.innerHTML = `The authorization was successful, the window will close automatically ${counter.toString()} seconds`;
    id = setInterval(function() {
        counter--;
        if(counter <= 0) {
            clearInterval(id);
            window.close();
        } else {
            newElement.innerHTML = `The authorization was successful, the window will close automatically ${counter.toString()} seconds`;
        }
    }, 1000);
    //setTimeout(() => {
    //        window.close();
    //    },
    //    3000);
</script>
</body>